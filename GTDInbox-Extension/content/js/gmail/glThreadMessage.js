var glThreadMessage=giBase.extend({_gmail:null,messageId:null,timestamp:null,message:null,date:null,sender:null,recipients:null,files:null,constructor:function(gmail){this._gmail=gmail},hasContact:function(contacts,isSender,isRecipient){if(typeof contacts=="string")contacts=[contacts];if(typeof isSender=="undefined"||isSender&&this.sender)for(var i=0;i<contacts.length;i++)if(giUtil.testEmailAddress(contacts[i],true)){if(m=/^\"(.+)\"$/.exec(contacts[i]))contacts[i]=m[1];if(this.sender.email==contacts[i])return true}else if(glThread._hasContact_checkName(contacts[i],
this.sender.name))return true;if(typeof isRecipient=="undefined"||isRecipient&&this.recipients)for(var i=0;i<contacts.length;i++)if(giUtil.testEmailAddress(contacts[i],true)){if(m=/^\"(.+)\"$/.exec(contacts[i]))contacts[i]=m[1];for(var j=0;j<this.recipients.length;j++)if(this.recipients[j].email==contacts[i])return true}else for(var j=0;j<this.recipients.length;j++)if(glThread._hasContact_checkName(contacts[i],this.recipients[j].name))return true},hasSearchTerm:function(term){return this.message.indexOf(term)>
-1}},{createFromData:function(threadMessageData,gmail){var threadMessage=new glThreadMessage(gmail);for(p in threadMessageData)threadMessage[p]=threadMessageData[p];return threadMessage}});

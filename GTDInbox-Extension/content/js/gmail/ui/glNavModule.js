var glNavModule=glUIWidget.extend({root:null,title:null,content:null,_expander:null,_eventsContainer:null,connect:function(gmail){giLogger.log("st","glNavModule.connect",gmail.pageId);this.base(gmail);this._eventsContainer=new giEventsContainer(this);var doc=this._gmail.canvasDocument;var elBox=doc.evaluate("//div[@class='nH pp ps']",doc.body,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(elBox)try{this.root=elBox.cloneNode(true);if(this.root.firstChild.firstChild.className=="nH s")this.root.firstChild.firstChild.className=
"nH pS";this.root.style.display="";elBox.parentNode.appendChild(this.root);this._expander=doc.evaluate(".//div[@class='diLZtc']/div[@class='nH pr' or @class='nH pv']",this.root,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;this.title=doc.evaluate(".//h2[@class='pw']",this.root,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;this.content=doc.evaluate(".//div[@class='diLZtc']/div[@class='nH pt']",this.root,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;
this.title.innerHTML="";this.content.innerHTML="";this._eventsContainer.observe(this._expander,"click",this._click,false)}catch(e){giLogger.warn("Error during clone initialization: "+e,"glNavModule.connect",null,this._gmail?this._gmail.pageId:giLogger.UNKNOWN_PAGE_ID)}else giLogger.error("Could not find a nav module to clone.","glNavModule.connect",this._gmail?this._gmail.pageId:giLogger.UNKNOWN_PAGE_ID)},disconnect:function(){if(this.root&&this.root.parentNode)this.root.parentNode.removeChild(this.root);
this.root=null;this.title=null;this.content=null;this._eventsContainer.reset();this._eventsContainer=null;this.base()},_click:function(evt){if(this._expander.className=="nH pr"){this._expander.className="nH pv";this.content.style.display=""}else{this._expander.className="nH pr";this.content.style.display="none"}},isCacheable:function(){return false}},{});

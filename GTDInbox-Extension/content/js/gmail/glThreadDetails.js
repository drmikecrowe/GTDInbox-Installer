var glThreadDetails=giBase.extend({_gmail:null,threadId:null,messages:null,_request:null,constructor:function(gmail){this._gmail=gmail;this.messages=[]},load:function(threadId,dataObject){this._threadId=threadId;this._request=new glRequest(this._gmail,{view:"cv",th:this._threadId,prf:"1",rt:"j",search:"query",q:""});this._request.addEventListener(glRequest.COMPLETED,this._requestCallback,this);if(dataObject)this.messages=dataObject.getThreadMessages();else this._request.run()},hasContact:function(contacts,
isSender,isRecipient){if(typeof contacts=="string")contacts=[contacts];for(var i=0;i<this.messages.length;i++)if(this.messages[i].hasContact(contacts,isSender,isRecipient))return true;return false},hasSearchTerm:function(term){for(var i=0;i<this.messages.length;i++)if(this.messages[i].hasSearchTerm(term))return true;return false},_requestCallback:function(){this.messages=this._request.data.getThreadMessages();this.dispatchEvent({name:glThreadDetails.LOADED})}},{LOADED:"loaded"});glThreadDetails.implement(giEventDispatcher);

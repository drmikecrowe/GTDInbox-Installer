var boxOfflineWarning=boxSection.extend({connect:function(main){giLogger.log("st","boxOfflineWarning.connect",main?main.pageId:giLogger.UNKNOWN_PAGE_ID);this.id="boxofflinewarning";this.base(main);this._main.gmail.offline.addEventListener(glOffline.GO_ONLINE,this._offlineStateChange,this);this._main.gmail.offline.addEventListener(glOffline.GO_UNSTABLE,this._offlineStateChange,this);this._offlineStateChange()},disconnect:function(){if(this._main){this._main.gmail.offline.removeEventListener(glOffline.GO_ONLINE,
this._offlineStateChange,this);this._main.gmail.offline.removeEventListener(glOffline.GO_UNSTABLE,this._offlineStateChange,this)}this.base()},_offlineStateChange:function(){if(this._main.gmail.offline.isUnstable()){if(!this._elWarning){var doc=this._main.gmail.canvasDocument;this._elWarning=doc.createElement("DIV");this._elWarning.id="gtdi-offline-warning";this._elWarning.innerHTML=giI18N.getString("Box.OfflineWarning");this.el.appendChild(this._elWarning)}this.el.style.display=""}else this.el.style.display=
"none"}});

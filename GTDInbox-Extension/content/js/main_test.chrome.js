if(!window.giCount)window.giCount=0;window.giCount++;alert(location.href+" ("+(top==window)+") - "+window.giCount);die();try{var x=new giXMLHttpRequest;x.open("GET","http://www.google.co.uk/search?q=test",true);x.onload=function(){alert("gixhr test from main_test:\n "+x.responseText)};x.send(null)}catch(e){alert("main error:\n"+e.toString())}giPluginManager={browserName:"chrome"};
giI18N.load(function(){console.log("loaded gi18n main_test");console.log("test gi18n string: "+giI18N.getString("Overview.rows.cmd.fix"));giFileIO.readFile(null,"register.htm",null,function(fileText){console.log(fileText)})});alert("load pm");var pm=giPrefManager.createInstance();
pm.addEventListener(giPrefManager.LOADED,function(){try{var v=pm.getPref("a.r.mitchell@gmail.com","test2.take1");alert("pref: "+v);console.log("pref: "+v);pm.setPref("a.r.mitchell@gmail.com","test2.take1","val"+(new Date).valueOf(),true);var v=pm.getPref("a.r.mitchell@gmail.com","test2.take1");alert("pref take two: "+v)}catch(e){alert(e);console.log("ERROR WITH PREFMANAGER");console.log(e)}},this);alert(pm.loaded);console.log("START giSafeJS");
try{var sb=giSafeJS.create();console.log("created it");console.log(sb);giSafeJS.eval("{'a':'123'}",sb);alert(sb.result.a)}catch(e){console.log("error in giSafeJS: "+e)}alert("main complete");
